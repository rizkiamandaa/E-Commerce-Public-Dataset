name: Extract ZIP and process CSV

on:
  push:
    branches:
      - main  # Workflow akan berjalan ketika ada perubahan di branch main

jobs:
  extract:
    runs-on: ubuntu-latest
    
    steps:
      # 1. Check out repository
      - name: Checkout repository
        uses: actions/checkout@v2

      # 2. Install unzip utility
      - name: Install unzip
        run: sudo apt-get install unzip

      # 3. Extract the ZIP file
      - name: Extract ZIP file
        run: |
          mkdir extracted
          unzip E-Commerce-Public-Dataset/dashboard/all_df.zip -d extracted  # Ekstrak file ZIP ke folder 'extracted'

      # 4. List extracted files to verify extraction
      - name: List extracted files
        run: ls extracted  # Memeriksa apakah file CSV ada di folder 'extracted'

      # 5. Process the CSV file using Python
      - name: Process CSV file
        run: |
          python3 -c "import pandas as pd; df = pd.read_csv('extracted/all_df.csv'); print(df.head())"  # Menampilkan contoh data
